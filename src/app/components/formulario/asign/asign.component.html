<div class="row">
  <div class="col-sm-12">
    <app-card [title]="'Asignar Formulario - Act. Económica'">

      <div class="view-info">
        <div class="row">
          <div class="col-md-12">
            <div class="pull-right">
              <button class="btn btn-sm btn-danger">
                <i class="icofont icofont-reply"></i> Cancelar
              </button>
              <button class="btn btn-sm btn-primary" (click)="save()">
                <i class="icofont icofont-plus"></i> Guardar
              </button>
            </div>
          </div>

        </div>
        <!-- Clasificacion - Categoria - Clasificacion -->
        <div class="row form-material">
          <div class="col-md-3">
            <div class="form-group form-primary">
              <select class="form-control form-control-primary" [(ngModel)]="slActEconomica"
                      (ngModelChange)="loadCategoria()">
                <option *ngFor="let actEconomica of lsActEconomica" [value]="actEconomica.ID">
                  {{ actEconomica.Descripcion }}
                </option>
              </select>
              <span class="form-bar"></span>
              <label class="float-label">Act. Económica</label>
            </div>
          </div>

          <div class="col-md-3">
            <div class="material-group">
              <div class="form-group form-primary">
                <select class="form-control form-control-primary" [(ngModel)]="slCategoria"
                        (ngModelChange)="filterClasificacion()">
                  <option *ngFor="let categoria of lsCategoria" [value]="categoria.ID">
                    {{ categoria.Descripcion }}
                  </option>
                </select>
                <span class="form-bar"></span>
                <label class="float-label">Categoría</label>
              </div>
              <div class="material-addone">
                <i class="icofont icofont-close " style="color: red;" (click)="clearCategoria()" ></i>
              </div>
            </div>
          </div>

        </div>


        <div class="row form-material">

          <div class="col-md-5">
            <div class="form-group form-primary">
              <select class="form-control form-control-primary" [(ngModel)]="slFormulario">
                <option *ngFor="let formulario of lsFormulario | async" [value]="formulario.ID">
                  {{ formulario.Descripcion }}
                </option>
              </select>
              <span class="form-bar"></span>
              <label class="float-label">Formulario</label>
            </div>
          </div>

        </div>
        <div class="clearfix"></div>

        <div class="row">
          <div class="col-lg-12">
            <ngx-datatable
              class="data-table dt-chk"
              [rows]="lsFilterClasificacion"
              [columnMode]="'force'"
              [headerHeight]="50"
              [footerHeight]="50"
              [rowHeight]="'auto'"
              [limit]="5"
              [selected]="selected"
              [selectionType]="'checkbox'"
              (select)='onSelect($event)'>

              <ngx-datatable-column [width]="50" [sortable]="false" [canAutoResize]="false" [draggable]="false"
                                    [resizeable]="false">
                <ng-template class="datatable-checkbox" ngx-datatable-header-template let-value="value"
                             let-allRowsSelected="allRowsSelected" let-selectFn="selectFn">
                  <div class="checkbox-fade fade-in-default datatable-header-cell-label">
                    <label>
                      <input type="checkbox" [checked]="allRowsSelected" (change)="selectFn(!allRowsSelected)"/>
                      <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                    </label>
                  </div>

                </ng-template>
                <ng-template class="datatable-checkbox" ngx-datatable-cell-template
                             let-value="value"
                             let-isSelected="isSelected"
                             let-onCheckboxChangeFn="onCheckboxChangeFn">
                  <div class="checkbox-fade fade-in-default datatable-header-cell-label">
                    <label>
                      <input type="checkbox" [checked]="isSelected" (change)="onCheckboxChangeFn($event)"/>
                      <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                    </label>
                  </div>
                </ng-template>
              </ngx-datatable-column>

              <ngx-datatable-column name="Clasificación">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.Clasificacion }}
                </ng-template>
              </ngx-datatable-column>

              <ngx-datatable-column name="Categoría">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.Categoria }}
                </ng-template>
              </ngx-datatable-column>

              <ngx-datatable-column name="Formulario">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.Formulario }}
                </ng-template>
              </ngx-datatable-column>

            </ngx-datatable>
          </div>
        </div>


      </div>
    </app-card>

  </div>
</div>
