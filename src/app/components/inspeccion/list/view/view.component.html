<div class="row">
  <div class="col-sm-12">
    <app-card [title]="'Resultado de la Inspección'" [cardOptionBlock]="true">

      <div class="row">
        <div class="col-md-12">
          <div class="pull-right">
            <button class="btn btn-sm btn-dropbox m-r-15" (click)="downloadFormulario()">
              <i class="icofont icofont-download f-35"></i>
              Descargar Resultados
            </button>
            <button class="btn btn-sm btn-danger" (click)="sendMailFormulario()">
              <i class="icofont icofont-send-mail f-35"></i>
              Reenviar Resultados
            </button>
            <!--<i class="icofont icofont-download m-r-15 f-35 text-primary" ngbTooltip="Descargar Resultados" (click)="downloadFormulario()"></i>-->
            <!--<i class="icofont icofont-send-mail m-r-15 f-35 text-primary" ngbTooltip="Reenviar Resultados" (click)="sendMailFormulario()"></i>-->
          </div>
        </div>

      </div>

      <div class="md-tabs">
        <ngb-tabset>
          <ngb-tab title="Información Básica">
            <ng-template ngbTabContent>
              <div [@fadeInOutTranslate] class="m-t-15">

                <h5>Inspección</h5>
                <div class="row">
                  <div class="col-md-12">
                    <div class="general-info">
                      <div class="row">
                        <div class="col-lg-12 col-xl-6">
                          <div class="table-responsive">
                            <table class="table m-0 table-sm">
                              <tbody>
                              <tr>
                                <th scope="row">Fecha Inspección</th>
                                <td>{{ dataInspeccion?.FechaInspeccion }}</td>
                              </tr>
                              <tr>
                                <th scope="row">Colaborador</th>
                                <td>{{ dataInspeccion?.colaborador.ApellidoPaterno + ' ' + dataInspeccion?.colaborador.NombrePrimero }}</td>
                              </tr>
                              <tr>
                                <th scope="row">Fecha de Registro</th>
                                <td>{{ dataInspeccion?.created_at }}</td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <!-- end of table col-lg-6 -->
                        <div class="col-lg-12 col-xl-6">
                          <div class="table-responsive">
                            <table class="table table-sm">
                              <tbody>
                                <tr>
                                  <th scope="row">Estado</th>
                                  <td>{{ dataInspeccion?.Estado | status }}</td>
                                </tr>
                                <tr>
                                  <th scope="row">Formulario</th>
                                  <td>{{ dataInspeccion?.formulario.Descripcion }}</td>
                                </tr>
                                <tr>
                                  <th scope="row">Observación</th>
                                  <td>{{ dataInspeccion?.Observacion }}</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <!-- end of table col-lg-6 -->
                      </div>
                      <!-- end of row -->
                    </div>
                  </div>
                </div>


                <h5>Empresa</h5>

                <div class="row">
                  <div class="col-md-12">
                    <div class="general-info">
                      <div class="row">
                        <div class="col-lg-12 col-xl-6">
                          <div class="table-responsive">
                            <table class="table m-0 table-sm">
                              <tbody>
                              <tr>
                                <th scope="row">Nombre Comercial</th>
                                <td>{{ dataInspeccion?.empresa.NombreComercial }}</td>
                              </tr>
                              <tr>
                                <th scope="row">RUC</th>
                                <td>{{ dataInspeccion?.empresa.RUC }}</td>
                              </tr>
                              <tr>
                                <th scope="row">Clasificación</th>
                                <td>{{ dataInspeccion?.empresa.clasificacion.Descripcion }}</td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <!-- end of table col-lg-6 -->
                        <div class="col-lg-12 col-xl-6">
                          <div class="table-responsive">
                            <table class="table table-sm">
                              <tbody>
                              <tr>
                                <th scope="row">Razón Social</th>
                                <td>{{ dataInspeccion?.empresa.RazonSocial }}</td>
                              </tr>
                              <tr>
                                <th scope="row">Sector</th>
                                <td>{{ dataInspeccion?.empresa.sector.Descripcion }}</td>
                              </tr>
                              <tr>
                                <th scope="row">Dirección</th>
                                <td style="text-align: justify;">{{ dataInspeccion?.empresa.Direccion }}</td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <!-- end of table col-lg-6 -->
                      </div>
                      <!-- end of row -->
                    </div>
                  </div>
                </div>




              </div>
            </ng-template>
          </ngb-tab>
          <ngb-tab title="Formulario">
            <ng-template ngbTabContent>
              <div [@fadeInOutTranslate] class="m-t-15">

                <div class="card" *ngFor="let seccion of seccions">
                  <div class="card-header">
                    <h5>{{ seccion.Descripcion }}</h5>

                  </div>
                  <div class="card-block">
                    <div class="table-responsive">
                      <table class="table matrics-table custom">
                        <tbody>
                        <tr *ngFor="let component of seccion.rcomponentes; let idxComp = index"
                            [ngSwitch]="component.IDTipoComp">
                          <td>
                            <span
                              [ngClass]="component.Cumple? 'font-success': 'font-danger'">{{ component.Descripcion }}</span>
                          </td>
                          <td *ngSwitchCase="'1'" >
                            {{ component.Result }}
                          </td>
                          <td *ngSwitchCase="'2'">
                            {{ component.Result }}
                          </td>
                          <td *ngSwitchCase="'3'">
                            {{ component.Result }}
                          </td>
                          <td *ngSwitchCase="'4'">
                            {{ (component.Result)? 'Si': 'No' }}
                          </td>
                        </tr>

                        </tbody>
                        <!-- end of tbody -->
                      </table>
                    </div>

                    <!--<ul class="basic-list">-->
                    <!--<li class="" *ngFor="let component of seccion.rcomponentes; let idxComp = index"-->
                    <!--[ngSwitch]="component.IDTipoComp">-->

                    <!--<span [ngClass]="component.Cumple? 'font-success': 'font-danger'" >{{ component.Descripcion }}</span>-->
                    <!--<div *ngSwitchCase="'1'">-->

                    <!--</div>-->
                    <!--<div *ngSwitchCase="'2'">-->
                    <!--</div>-->
                    <!--<div *ngSwitchCase="'3'">-->
                    <!--</div>-->
                    <!--<div *ngSwitchCase="'4'">-->
                    <!--</div>-->
                    <!--</li>-->
                    <!--</ul>-->
                  </div>
                </div>

              </div>
            </ng-template>
          </ngb-tab>
          <ngb-tab title="Anexos">
            <ng-template ngbTabContent>
              <div [@fadeInOutTranslate] class="m-t-15">

                <div class="column has-text-centered">
                  <div class="img-row" *ngFor="let image of albums; let i=index">
                    <img class="img-frame" [src]="image.src" (click)="open(i)" height="250"/>
                  </div>
                </div>


              </div>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </div>

    </app-card>
  </div>
</div>
